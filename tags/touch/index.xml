<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>touch on 不折腾不舒服</title><link>https://hitian.info/tags/touch/</link><description>Recent content in touch on 不折腾不舒服</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 02 Apr 2014 00:00:00 +0000</lastBuildDate><atom:link href="https://hitian.info/tags/touch/index.xml" rel="self" type="application/rss+xml"/><item><title>cocos2d-x2.2.2 触摸事件的遮挡</title><link>https://hitian.info/post/cocos2d-x-touch-layer-block/</link><pubDate>Wed, 02 Apr 2014 00:00:00 +0000</pubDate><guid>https://hitian.info/post/cocos2d-x-touch-layer-block/</guid><description>环境 cocos2d-x 2.2.2 + js
例如一个这样的界面
左上角的设置使用 cc.MenuItemSprite, 弹出的遮罩层和上面的按钮需要优先获取touch事件, 并阻止向后继续传播.
这里需要两个点就可以做到.
var bgLayer = cc.LayerColor.extend({ ctor: function () { this._super(); cc.associateWithNative(this, cc.LayerColor); cc.registerTargetedDelegate(-129, true, this); //1.设置触摸的优先级 this.setTouchEnabled(true); }, onTouchBegan: function (touches, event) { cc.log(&amp;#34;TouchBegan: &amp;#34;); return true; //2. 在onTouchXXX 回调里返回true来吞噬掉touch事件 }, onTouchesBegan: function (touches, event) { var loc = touches[0].getLocation(); cc.log(&amp;#34;TouchesBegan: &amp;#34; + loc.x + &amp;#34; : &amp;#34; + loc.y); return true; } }); 1.设置触摸的优先级 在layer创建的时候使用 cc.registerTargetedDelegate(-129, true, this); 来设置优先级(第1个参数)</description></item></channel></rss>